#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "🔍 Running pre-commit checks..."
echo ""

# Cambiar al directorio frontend
cd frontend

# 1. Verificar TypeScript
echo "1️⃣ Verificando tipos TypeScript..."
npm run typecheck || {
  echo ""
  echo "❌ TypeCheck falló. Corrige los errores antes de hacer commit."
  echo ""
  exit 1
}
echo "✅ TypeCheck OK"
echo ""

# 2. Verificar case sensitivity
echo "2️⃣ Verificando case sensitivity..."
node scripts/check-case-sensitivity.js || {
  echo ""
  echo "❌ Problemas de case sensitivity detectados."
  echo "🔧 Corrige los imports antes de hacer commit."
  echo ""
  exit 1
}
echo "✅ Case sensitivity OK"
echo ""

echo "🎉 Todos los checks pasaron. Procediendo con el commit..."

